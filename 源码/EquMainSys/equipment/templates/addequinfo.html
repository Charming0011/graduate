{% extends 'base.html' %}

{% block title %}
    图书馆设备维护登记系统后台-设备信息添加
{% endblock %}

{% block subtitle %}
    <a href="/index">图书馆设备维护系统-设备添加</a>
{% endblock %}

{% block content %}
    <div class="content">
        <div class="col-lg-12">
            <form method="post" action="/equexc/" enctype="multipart/form-data">
                <div class="form-group">
                   <div class="col-sm-6">
                       <div class="input-group">
                           <span class="input-group-addon">Excel批量上传:</span>
                       <input type="button" id='location' class="col-6" value="请点击这里选择文件" onclick="$('#i-file').click();">
                           <label>&nbsp;&nbsp;&nbsp;&nbsp;</label>
                           <button type="submit" class="btn btn-primary">提交</button>
                           <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                           <a class="btn btn-info" data-toggle="modal" data-target="#help" >帮助</a>
                       </div>
                   </div>
                   <input type="file" name="file" id='i-file'  accept=".xls, .xlsx" onchange="$('#location').val($('#i-file').val());" style="display: none">

                </div>

            </form>
                        <div class="card">
                            <div class="card-header">
                                <strong>添加新设备信息</strong>
                            </div>
                            <div class="card-body card-block">
                                <form action="/index/addequinfo/" method="post" enctype="multipart/form-data" class="form-horizontal">
                                    <div class="row form-group">
                                        <div class="col col-md-3"><label for="text-input" class=" form-control-label">设备型号：</label></div>
                                        <div class="col-12 col-md-9"><input type="text" id="text-input" name="model" placeholder="请输入设备型号" class="form-control"></div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col col-md-3"><label for="text-input" class=" form-control-label">系统类型：</label></div>
                                        <div class="col-12 col-md-9"><input type="text" id="text-input" name="systype" placeholder="请输入系统类型" class="form-control"></div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col col-md-3"><label for="text-input" class=" form-control-label">出厂日期：</label></div>
                                        <div class="col-12 col-md-9"><input type="text" id="text-input" name="outdate" placeholder="请输入出厂日期" class="form-control"></div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col col-md-3"><label for="text-input" class=" form-control-label">摆放地点及编号：</label></div>
                                        <div class="col-12 col-md-9"><input type="text" id="text-input" name="location" placeholder="例如六楼电子阅览室169号" class="form-control"></div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col col-md-3"><label for="textarea-input" class=" form-control-label">备注：</label></div>
                                        <div class="col-12 col-md-9"><textarea name="beizhu" id="textarea-input" rows="9" placeholder="Content..." class="form-control"></textarea></div>
                                    </div>
                                    <div class="form-actions form-group">
                                        <button type="submit" class="btn-primary btn-lg">确认提交</button>
                                        <strong style="color: red">{{ msg }}</strong>
                                </div>


                                </form>
                    </div>
    </div>
        </div>
    <div class="modal fade" id="help" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <!-- 模态框头部 -->
                <div class="modal-header">
                    <h4 class="modal-title">添加要求</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- 模态框主体 -->
                <div class="modal-body">
                    <span>请使用规范化Excel文件，只能添加设备对型号、系统类型、出厂日期、摆放地点以及备注<br>上传前请仔细确认相关信息的准确性，可以点击下方按钮下载模板</span>
                    <hr>
                    <a href="/download/?filename=Addequ.xlsx"><i class="fa fa-download">设备批量添加模版</i> </a>
                </div>
                <!-- 模态框底部 -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
{% endblock %}

{% block script %}
    {% if messages %}
    <script>
        {% for msg in messages %}
            alert('{{ msg.message }}');
        {% endfor %}
    </script>
{% endif %}
{% endblock %}
